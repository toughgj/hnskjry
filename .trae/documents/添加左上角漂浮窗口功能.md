# 添加左上角漂浮窗口功能

## 需求分析
1. **左上角漂浮窗口**：视觉上的UI元素，固定在页面左上角
2. **倒计时10秒**：显示倒计时，结束后开始执行脚本
3. **暂停功能**：可以停止和继续倒计时
4. **手动选择视频**：显示未完成视频列表，允许用户选择要播放的视频

## 实现方案

### 1. UI设计
- 创建固定定位的div，放在左上角
- 包含标题、倒计时显示、控制按钮和视频列表
- 使用CSS样式美化，确保视觉效果良好
- 支持显示/隐藏功能

### 2. 倒计时逻辑
- 从10秒开始倒计时
- 使用setInterval实现倒计时
- 支持暂停/继续功能
- 倒计时结束后自动开始执行脚本

### 3. 视频选择逻辑
- 收集所有未完成的视频信息
- 在漂浮窗口中动态生成视频列表
- 支持单选或多选视频
- 提供"播放选中"和"播放全部"按钮

### 4. 与现有脚本的集成
- 在收集完课程后显示漂浮窗口
- 尊重用户的选择，只播放用户选择的视频
- 提供跳过倒计时直接执行的选项
- 确保不影响原有脚本的核心功能

## 实现步骤

1. **创建漂浮窗口UI**：
   - 动态创建div元素
   - 添加CSS样式
   - 构建HTML结构

2. **实现倒计时功能**：
   - 添加倒计时显示
   - 实现开始/暂停/继续逻辑
   - 倒计时结束处理

3. **添加视频列表**：
   - 收集未完成课程信息
   - 动态生成列表项
   - 添加选择功能

4. **添加控制按钮**：
   - 开始/暂停按钮
   - 播放选中/全部按钮
   - 关闭窗口按钮

5. **集成到现有脚本**：
   - 在setupListPage函数中调用
   - 尊重用户选择，调整课程队列
   - 确保原有逻辑正常工作

## 预期效果
- 脚本收集完课程后，左上角显示漂浮窗口
- 显示倒计时10秒，用户可以暂停
- 列出所有未完成课程，用户可以选择
- 支持播放选中课程或全部课程
- 提供良好的用户体验

## 代码结构
```javascript
// 添加漂浮窗口函数
function createFloatingWindow(courses) {
    // 创建UI元素
    // 实现倒计时逻辑
    // 添加视频列表
    // 添加控制按钮
}

// 在setupListPage函数中调用
function setupListPage() {
    // 原有逻辑
    collectUnfinishedCourses(table);
    if (courseQueue.length > 0) {
        createFloatingWindow(courseQueue);
    }
}
```